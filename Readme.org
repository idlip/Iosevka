#+title: Iosevka: The warrior of Liberation

*The Savior for the hunger of fonts*

Note: This repo might stay until custom building via nixpkg is solved. ([[https://github.com/NixOS/nixpkgs/issues/261820][see]])

So far, I had been happy with [[https://github.com/arrowtype/recursive/][Recursive]] font & [[https://github.com/protesilaos/iosevka-comfy/][Iosevka-Comfy]], but I needed something more. Luckily I stumbled on this great site, https://typeof.net/Iosevka/

It has "Customizer", sat for 10 mins, did the setup of npm, and boom built the font as I needed.

Later on tried to apply nerd fonts, and seems its all set for me. Little tweak is easy for future.

* Shell.nix
- for direnv to apply for suitable environment.
#+begin_src nix :tangle shell.nix
with import <nixpkgs> {};
pkgs.mkShell {

  nativeBuildInputs = [ pkgs.bashInteractive ];

  buildInputs = with pkgs; [
    nodejs ttfautohint
    nerd-font-patcher
    ];

  shellHook = ''
  echo "Installing node package required ot build"
  # npm install
  '';

}
#+end_src

** patcher
#+begin_src shell
for i in *.ttf; do nerd-font-patcher -c --careful --makegroups -1 -out nerds $i; done
#+end_src

* Font building
** config
- set name accordingly (onepiece, haki, ace, zoro)
- set spacing (normal or quasi-proportional)
  - Note: use =fixed= get proper alignment in emacs terminal for tui apps (btop)
#+begin_src toml :tangle private-build-plans.toml
[buildPlans.CodeOnePiece]
family = "Code OnePiece"
spacing = "fixed"
serifs = "sans"
EXPORTGLYPHNAMES = false

# [buildPlans.CodeOnePiece.variants]
# inherits = "ss14"

[buildPlans.CodeOnePiece.variants.design]
capital-a = "curly-serifless"
capital-b = "standard-interrupted-serifless"
capital-c = "unilateral-inward-serifed"
capital-d = "more-rounded-unilateral-serifed"
capital-e = "top-left-serifed"
capital-f = "top-left-serifed"
capital-g = "toothed-serifless-hooked"
capital-h = "top-left-serifed"
capital-i = "serifed"
capital-j = "serifed-symmetric"
capital-k = "curly-serifless"
capital-l = "serifless"
capital-m = "hanging-motion-serifed"
capital-n = "standard-motion-serifed"
capital-p = "open-motion-serifed"
capital-q = "crossing"
capital-r = "straight-bottom-right-serifed"
capital-s = "serifless"
capital-t = "serifless"
capital-u = "toothless-rounded-unilateral-motion-serifed"
capital-v = "straight-motion-serifed"
capital-w = "straight-vertical-sides-serifless"
capital-x = "curly-serifless"
capital-y = "curly-serifless"
capital-z = "curly-serifless"
a = "double-storey-hook-inward-serifed-serifless"
b = "toothless-rounded-serifless"
c = "unilateral-inward-serifed"
d = "tailed-serifless"
e = "rounded"
f = "flat-hook-serifed"
g = "single-storey-earless-corner"
h = "tailed-serifless"
i = "serifed-asymmetric"
k = "curly-serifless"
l = "serifed-flat-tailed"
m = "serifless"
n = "straight-serifless"
p = "eared-serifless"
q = "straight-serifless"
r = "hookless-top-serifed"
s = "unilateral-inward-serifed"
t = "flat-hook"
u = "toothless-rounded-serifless"
v = "straight-motion-serifed"
w = "cursive-serifless"
x = "curly-serifless"
y = "cursive-serifless"
z = "curly-serifless"
zero = "tall-slashed"

[buildPlans.CodeOnePiece.weights.Regular]
shape = 400
menu = 400
css = 400

[buildPlans.CodeOnePiece.weights.Medium]
shape = 500
menu = 500
css = 500

[buildPlans.CodeOnePiece.weights.Bold]
shape = 800
menu = 800
css = 800

[buildPlans.CodeOnePiece.widths.normal]
shape = 525
menu  = 5
css   = "normal"
#+end_src


** Build
- Fonts are created in dist/FamName
#+begin_src bash
npm run build -- ttf::CodeOnePiece
#+end_src
